---
title: Path to live
last_reviewed_on: 2020-02-10
review_in: 6 months
---

# <%= current_page.data.title %>

## Purpose

This page should give you all the information you need to technically get an application live,
there may be other business processes you need to go through but they are out of scope of this
document.

## Backend and frontend Application configuration

You need to add some configuration in a few places:

1. (backend only) add your application to the prod [load balancer config](https://github.com/hmcts/cnp-aks-rbac-pipelines/blob/master/team-config/prod/all.yaml),
2. add your application to the [environment-approvals](https://github.com/hmcts/cnp-jenkins-config/blob/master/environment-approvals.yml) list,
3. add cnp-flux-config config, and CODEOWNERS update, see [example PR](https://github.com/hmcts/cnp-flux-config/pull/1929/files)
4. set `disableLegacyDeployment()` in your `Jenkinsfile_CNP`

Most of the above changes will need to be reviewed by the
[production-apps-approval team](https://github.com/orgs/hmcts/teams/production-apps-approvals),
you can find them on slack in the [#devops](https://hmcts-reform.slack.com/app_redirect?channel=devops)
channel.

## Frontend only

### TLS certificates

In non production environments we have a wildcard certificate for `*.<env>.platform.hmcts.net`
make sure you use a domain that matches that pattern.

For production we require a cert per frontend application, this is procured by the 'devops' team.

You will need to fill out a form that can be found on the 
[Requesting a SSL / TLS certificate](https://tools.hmcts.net/confluence/pages/viewpage.action?pageId=947882506)
confluence page, and then create a ticket on JIRA in the RDO project.

The vault the certificate should go into is cft-apps-prod.

### External DNS

We use [Azure DNS](https://azure.microsoft.com/en-gb/services/dns/) for managing our public DNS.

The DNS is self-service, managed in the 
[azure-public-dns](https://github.com/hmcts/azure-public-dns/tree/master/environments) repository, 
follow the [shuttering](shutter.html#pre-requisite) instructions for which records you need to add
for a new service.

### Front door configuration

We use [Azure Front Door](https://azure.microsoft.com/en-gb/services/frontdoor/) as our entry point
into the HMCTS estate.

Configuration is managed in the frontends section of 
[azure-platform-terraform](https://github.com/hmcts/azure-platform-terraform/blob/master/environments/prod.tfvars).

Before sending a pull request to this repo ensure that:

- your DNS pull request has been merged,
- your TLS certificate has been stored in vault, if you aren't sure then just create the pull request,
the build will fail if it isn't present.

Once the above is complete, send a pull request with your configuration change,
you can ask for review in [#rpe-pull-requests](https://hmcts-reform.slack.com/app_redirect?channel=rpe-pull-requests).


