---
title: Load balancer configuration
last_reviewed_on: 2020-02-10
review_in: 6 months
---

# <%= current_page.data.title %>

In all our path-to-live environments we run two clusters for high availability
and zero down-time upgrades. We load balance across these clusters using an
[Azure Application Gateway](https://docs.microsoft.com/en-us/azure/application-gateway/overview) which has a health probe for each application
deployed to an environment. 

For backend applications a couple of lines of config need to be added:

[load balancer config](https://github.com/hmcts/cnp-aks-rbac-pipelines/blob/master/team-config/prod/all.yaml),

Frontend applications are automatically handled as part of the 
[front door config](front-door.html),
that config provides all the information we need for setting up the load balancer,
so frontend apps can skip the above step.
